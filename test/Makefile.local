# -*- makefile -*-
# Copyright (c) 2017-2018, Jani Nikula <jani@nikula.org>
# Licensed under the terms of BSD 2-Clause, see LICENSE for details.

test_dir := test

.PHONY: test
test:
	pytest -n auto $(test_dir)

test-verbose:
	pytest -n auto -vv $(test_dir)

# Ensure a) update-examples works, and b) examples have been updated.
test-examples:
	$(test_dir)/update-examples.py | diff -q - $(docdir)/examples.rst

quick-test:
	pytest -n auto -m "not full" $(test_dir)
